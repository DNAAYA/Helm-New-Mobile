{"version":3,"file":"src_app_divisions_divisions_module_ts.js","mappings":"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","sources":["./src/app/divisions/divisions-routing.module.ts","./src/app/divisions/divisions.module.ts","./src/app/divisions/divisions.page.ts","./src/app/divisions/divisions.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { DivisionsPage } from './divisions.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DivisionsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DivisionsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { DivisionsPageRoutingModule } from './divisions-routing.module';\r\n\r\nimport { DivisionsPage } from './divisions.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    DivisionsPageRoutingModule\r\n  ],\r\n  declarations: [DivisionsPage]\r\n})\r\nexport class DivisionsPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { Division } from '../models/division';\r\nimport { DuplicateDivision } from '../models/duplicate-division';\r\nimport { DatabaseService } from '../services/database.service';\r\n\r\n@Component({\r\n  selector: 'app-divisions',\r\n  templateUrl: './divisions.page.html',\r\n  styleUrls: ['./divisions.page.scss'],\r\n})\r\nexport class DivisionsPage implements OnInit {\r\n  divisionList = [];\r\n  duplicatedDivs = [];\r\n  type;\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private dbService: DatabaseService,\r\n    private alertController: AlertController\r\n  ) { }\r\n\r\nasync  ngOnInit() {\r\n    let subID = this.activatedRoute.snapshot.params['subID'];\r\n    let prID = this.activatedRoute.snapshot.params['prID'];\r\n     this.type = this.activatedRoute.snapshot.params['type'];\r\n    console.log('Sub priority ID', subID);\r\n    console.log(' priority ID', prID);\r\n    console.log(' router type', this.type);\r\n\r\n    if(this.type == 'main') {\r\n      // get sub priorities \r\n    await  this.dbService.getDivisionBySubID(subID).then((divs: Division[]) => {\r\n        this.divisionList = divs;\r\n      }) \r\n      console.log('Main content Division ..', this.divisionList)\r\n    } else if(this.type == 'duplicated'){\r\n       await this.getDuplicatedDiv(subID);\r\n      //console.log('duplicated content ..', this.duplicateDivision)\r\n    }\r\n  }\r\n\r\n  async presentAlert(div: Division) {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Enter Division Title',\r\n      inputs: [\r\n        {\r\n          name: 'title',\r\n          type: 'text',\r\n          placeholder: 'Division Title'\r\n        }\r\n      ],\r\n     // message: 'This is an alert message.',\r\n      buttons: [\r\n        {\r\n          text: 'Save',\r\n          cssClass: 'secondary',\r\n          id: 'save-button',\r\n          handler: (object) => {\r\n            console.log('handler object', object.title)\r\n            this.duplicateDivision(div, object.title);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n\r\n    const { role } = await alert.onDidDismiss();\r\n    console.log('onDidDismiss resolved with role', role);\r\n  }\r\n\r\n  duplicateDivision(div: Division, title) {\r\n    let duplicateDiv: DuplicateDivision  = {\r\n      division: div,\r\n      duplicated_ID: '',\r\n      title: title,\r\n      parentID: div.divison_ID\r\n    }\r\n  //  console.log('Confirm save: subtitle', object);\r\n    this.dbService.duplicateDivision(duplicateDiv);\r\n  }\r\n  \r\n  getDuplicatedDiv(subID) {\r\n    console.log('getDuplicatedDiv ..', subID)\r\n    this.dbService.getDuplicatedDivBySubID(subID).then(res => {\r\n      this.duplicatedDivs = res;\r\n      console.log('duplicated Divisions', res)\r\n    })\r\n  }\r\n\r\n  getDuplicatedDivByDivID(divID) {\r\n    this.dbService.getDuplicatedDiv(divID).then(res => {\r\n      this.duplicatedDivs = res;\r\n    })\r\n\r\n  }\r\n\r\n}\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>divisions</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <ion-accordion-group animated=\\\"reduce\\\" *ngIf=\\\"type == 'main'\\\">\\r\\n    <ion-accordion [value]=\\\"div?.divison_ID\\\" (click)=\\\"getDuplicatedDivByDivID(div.divison_ID)\\\"\\r\\n      *ngFor=\\\"let div of divisionList\\\">\\r\\n      <ion-item slot=\\\"header\\\">\\r\\n        <ion-label>{{div?.division_name}}</ion-label>\\r\\n        <ion-button (click)=\\\"presentAlert(div)\\\">\\r\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"add-outline\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-list slot=\\\"content\\\">\\r\\n        <ion-item [routerLink]=\\\"['/questions/'+'main/'+ div.divison_ID+'/' + div.sub_ID  +'/' + div.priority_ID]\\\">\\r\\n          <ion-label>{{div.division_name}}</ion-label>\\r\\n        </ion-item>\\r\\n        \\r\\n        <ion-item *ngFor=\\\"let div of duplicatedDivs\\\"\\r\\n          [routerLink]=\\\"['/questions/'+'duplicated/'+ div.duplicated_ID+ '/' + div.division.sub_ID +'/' + div.division.priority_ID]\\\"\\r\\n          routerLinkActive=\\\"router-link-active\\\">\\r\\n          <ion-label>{{div?.title}}</ion-label>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </ion-accordion>\\r\\n  </ion-accordion-group>\\r\\n\\r\\n  <ion-list *ngIf=\\\"duplicatedDivs\\\">\\r\\n    <ion-item *ngFor=\\\"let div of duplicatedDivs\\\"\\r\\n      [routerLink]=\\\"['/questions/'+'duplicated/'+ div.duplicated_ID+ '/' + div.sub_ID +'/' + div.priority_ID]\\\"\\r\\n      routerLinkActive=\\\"router-link-active\\\">\\r\\n      <ion-label>{{div?.title}}</ion-label>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}