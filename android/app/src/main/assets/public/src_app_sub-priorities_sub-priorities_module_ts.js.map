{"version":3,"file":"src_app_sub-priorities_sub-priorities_module_ts.js","mappings":"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","sources":["./src/app/sub-priorities/sub-priorities-routing.module.ts","./src/app/sub-priorities/sub-priorities.module.ts","./src/app/sub-priorities/sub-priorities.page.ts","./src/app/sub-priorities/sub-priorities.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SubPrioritiesPage } from './sub-priorities.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SubPrioritiesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SubPrioritiesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SubPrioritiesPageRoutingModule } from './sub-priorities-routing.module';\r\n\r\nimport { SubPrioritiesPage } from './sub-priorities.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SubPrioritiesPageRoutingModule\r\n  ],\r\n  declarations: [SubPrioritiesPage]\r\n})\r\nexport class SubPrioritiesPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { DuplicatedSub } from '../models/duplicatedSub';\r\nimport { Subpriority } from '../models/Subpriority';\r\nimport { DatabaseService } from '../services/database.service';\r\n\r\n@Component({\r\n  selector: 'app-sub-priorities',\r\n  templateUrl: './sub-priorities.page.html',\r\n  styleUrls: ['./sub-priorities.page.scss'],\r\n})\r\nexport class SubPrioritiesPage implements OnInit {\r\nsubPrioritiesList = [];\r\nduplicatedSub = [];\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private dbService: DatabaseService,\r\n    private alertController: AlertController\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    let prID = this.activatedRoute.snapshot.params['id'];\r\n    \r\n    console.log('priority ID', prID);\r\n    // get sub priorities \r\n    this.dbService.getSubPriorityWithPriorityID(prID).then((subs: Subpriority[]) => {\r\n      this.subPrioritiesList = subs;\r\n    })\r\n  }\r\n\r\n\r\n  getDuplicatedSup(subid) {\r\n    console.log('hello getDuplicatedSup', subid);\r\n    this.dbService.getDuplicatedSub(subid).then(res => {\r\n      this.duplicatedSub = res;\r\n      console.log('duplicated sup', res)\r\n    })\r\n  }\r\n\r\n\r\n  async presentAlert(sub: Subpriority) {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Enter Sub Title',\r\n      inputs: [\r\n        {\r\n          name: 'subTitle',\r\n          type: 'text',\r\n          placeholder: 'Sub Title'\r\n        }\r\n      ],\r\n     // message: 'This is an alert message.',\r\n      buttons: [\r\n        {\r\n          text: 'Save',\r\n          cssClass: 'secondary',\r\n          id: 'save-button',\r\n          handler: (object) => {\r\n            console.log('handler object', object.subTitle)\r\n            this.duplicateSupPriority(sub, object.subTitle);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n\r\n    const { role } = await alert.onDidDismiss();\r\n    console.log('onDidDismiss resolved with role', role);\r\n  }\r\n\r\n  duplicateSupPriority(sub: Subpriority, title) {\r\n    let duplicateSub: DuplicatedSub = {\r\n      duplicated_ID: '',\r\n      parentSub: sub,\r\n      subTitle: `${sub.sub_name}: ${title}` ,\r\n      parentID: sub.sub_ID\r\n    }\r\n  //  console.log('Confirm save: subtitle', object);\r\n    this.dbService.duplicateSubPriority(duplicateSub);\r\n  }\r\n\r\n}\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>subPriorities</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-accordion-group>\\r\\n    <ion-accordion [value]=\\\"sub.sub_ID\\\" (click)=\\\"getDuplicatedSup(sub.sub_ID)\\\" *ngFor=\\\"let sub of subPrioritiesList\\\">\\r\\n      <ion-item slot=\\\"header\\\">\\r\\n        <ion-label>{{sub.sub_name}}</ion-label>\\r\\n        <ion-button (click)=\\\"presentAlert(sub)\\\">\\r\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"add-outline\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-list slot=\\\"content\\\">\\r\\n        <ion-item [routerLink]=\\\"['/divisions/'+'main/'+ sub.sub_ID+'/' + sub.priority_ID]\\\">\\r\\n          <ion-label>{{sub.sub_name}}</ion-label>\\r\\n        </ion-item>\\r\\n        \\r\\n        <ion-item *ngFor=\\\"let i of duplicatedSub\\\"\\r\\n          [routerLink]=\\\"['/divisions/'+'duplicated/'+ sub.sub_ID+'/' + sub.priority_ID]\\\">\\r\\n          <ion-label>{{i.subTitle}}</ion-label>\\r\\n        </ion-item>\\r\\n\\r\\n        <!-- <ion-item [routerLink]=\\\"['/divisions/'+ sub.sub_ID+'/' + sub.priority_ID]\\\"\\r\\n          routerLinkActive=\\\"router-link-active\\\">\\r\\n          <ion-label>Red</ion-label>\\r\\n        </ion-item> -->\\r\\n      </ion-list>\\r\\n    </ion-accordion>\\r\\n  </ion-accordion-group>\\r\\n  <ion-list>\\r\\n\\r\\n  </ion-list>\\r\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}