<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>divisions</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-accordion-group animated="reduce" *ngIf="type == 'main'">
    <ion-accordion [value]="div?.divison_ID" (click)="getDuplicatedDivByDivID(div.divison_ID)"
      *ngFor="let div of divisionList">
      <ion-item slot="header">
        <ion-label>{{div?.division_name}}</ion-label>
        <ion-button (click)="presentAlert(div)">
          <ion-icon slot="icon-only" name="add-outline"></ion-icon>
        </ion-button>
      </ion-item>

      <ion-list slot="content">
        <ion-item [routerLink]="['/questions/'+'main/'+ div.divison_ID+'/' + div.sub_ID  +'/' + div.priority_ID]">
          <ion-label>{{div.division_name}}</ion-label>
        </ion-item>
        
        <ion-item *ngFor="let div of duplicatedDivs"
          [routerLink]="['/questions/'+'duplicated/'+ div.duplicated_ID+ '/' + div.division.sub_ID +'/' + div.division.priority_ID]"
          routerLinkActive="router-link-active">
          <ion-label>{{div?.title}}</ion-label>
        </ion-item>
      </ion-list>
    </ion-accordion>
  </ion-accordion-group>

  <ion-list *ngIf="duplicatedDivs">
    <ion-item *ngFor="let div of duplicatedDivs"
      [routerLink]="['/questions/'+'duplicated/'+ div.duplicated_ID+ '/' + div.sub_ID +'/' + div.priority_ID]"
      routerLinkActive="router-link-active">
      <ion-label>{{div?.title}}</ion-label>
    </ion-item>
  </ion-list>
</ion-content>